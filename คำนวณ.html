<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<title>‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Ñ‡πà‡∏≤‡πÅ‡∏£‡∏á‡πÅ‡∏•‡∏∞‡∏Ñ‡πà‡∏≤ OT</title>
<style>
    body { font-family: Tahoma, sans-serif; padding: 20px; max-width: 450px; margin: auto; }
    input, select, button { width: 100%; padding: 8px; margin: 5px 0; font-size: 16px; }
    .result { background: #f2f2f2; padding: 10px; margin-top: 15px; border-radius: 8px; }
</style>
</head>
<body>

<h2>‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Ñ‡πà‡∏≤‡πÅ‡∏£‡∏á + OT</h2>

<label>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡∏á‡∏≤‡∏ô</label>
<input type="date" id="workDate">

<label>‡πÄ‡∏Ç‡πâ‡∏≤‡∏á‡∏≤‡∏ô</label>
<input type="time" id="startTime">

<label>‡πÄ‡∏•‡∏¥‡∏Å‡∏á‡∏≤‡∏ô</label>
<input type="time" id="endTime">

<label>‡πÄ‡∏ß‡∏•‡∏≤‡∏û‡∏±‡∏Å (‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á)</label>
<input type="number" id="breakHour" value="1" step="0.5">

<label>‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏Ñ‡πà‡∏≤‡πÅ‡∏£‡∏á‡∏ï‡πà‡∏≠‡∏ß‡∏±‡∏ô (8 ‡∏ä‡∏°.)</label>
<input type="number" id="basePay" value="500">

<label>‡πÄ‡∏£‡∏ó OT</label>
<select id="otRate">
  <option value="1.5">OT x 1.5</option>
  <option value="2.0">OT x 2.0</option>
  <option value="2.25">OT x 2.25</option>
</select>

<button onclick="calculatePay()">‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì</button>

<div class="result" id="result"></div>

<script>
function calculatePay() {
  let start = document.getElementById("startTime").value;
  let end = document.getElementById("endTime").value;
  let breakH = parseFloat(document.getElementById("breakHour").value);
  let basePay = parseFloat(document.getElementById("basePay").value);
  let otRate = parseFloat(document.getElementById("otRate").value);

  if (!start || !end) {
    document.getElementById("result").innerHTML = "‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡πÄ‡∏ß‡∏•‡∏≤‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏Ñ‡∏£‡∏±‡∏ö";
    return;
  }

  let tStart = new Date("2024-01-01 " + start);
  let tEnd = new Date("2024-01-01 " + end);

  if (tEnd < tStart) tEnd.setDate(tEnd.getDate() + 1);

  let workHours = (tEnd - tStart) / (1000 * 60 * 60);
  let netWorkHours = workHours - breakH;

  if (netWorkHours < 0) netWorkHours = 0;

  let normalHours = Math.min(8, netWorkHours);
  let otHours = Math.max(0, netWorkHours - 8);

  let otMinutes = Math.round((otHours - Math.floor(otHours)) * 60);
  let otHr = Math.floor(otHours);

  let normalPay = (basePay / 8) * normalHours;
  let otPay = (basePay / 8) * otHours * otRate;
  let totalPay = normalPay + otPay;

  document.getElementById("result").innerHTML = `
    ‚è≥ ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏™‡∏∏‡∏ó‡∏ò‡∏¥: ${netWorkHours.toFixed(2)} ‡∏ä‡∏°.<br>
    üíº ‡∏Ñ‡∏¥‡∏î‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏ß‡∏•‡∏≤‡∏á‡∏≤‡∏ô‡∏õ‡∏Å‡∏ï‡∏¥: ${normalHours.toFixed(2)} ‡∏ä‡∏°.<br>
    ‚ö° OT: ${otHr} ‡∏ä‡∏°. ${otMinutes} ‡∏ô‡∏≤‡∏ó‡∏µ (‡πÄ‡∏£‡∏ó x${otRate}) <br>
    ------------------------<br>
    üíµ ‡∏Ñ‡πà‡∏≤‡πÅ‡∏£‡∏á‡∏õ‡∏Å‡∏ï‡∏¥: ${normalPay.toFixed(2)} ‡∏ö‡∏≤‡∏ó<br>
    üíµ ‡∏Ñ‡πà‡∏≤ OT: ${otPay.toFixed(2)} ‡∏ö‡∏≤‡∏ó<br>
    üßÆ ‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î: <b>${totalPay.toFixed(2)} ‡∏ö‡∏≤‡∏ó</b>
  `;
}
</script>

</body>
</html>